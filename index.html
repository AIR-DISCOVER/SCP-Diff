<!DOCTYPE html>
<html>

<head>
  <meta charset="utf-8" />
  <!-- Meta tags for social media banners, these should be filled in appropriatly as they are your "business card" -->
  <!-- Replace the content tag with appropriate information -->
  <meta name="description"
    content="SCP-Diff: Photo-Realistic Semantic Image Synthesis with Spatial-Categorical Joint Prior. Semantic image synthesis (SIS) shows good promises for sensor simulation. However, current best practices in this field, based on GANs, have not yet reached the desired level of quality. As latent diffusion models make significant strides in image generation, we are prompted to evaluate ControlNet, a notable method for its dense control capabilities. Our investigation uncovered two primary issues with its results: the presence of weird sub-structures within large semantic areas and the misalignment of content with the semantic mask. Through empirical study, we pinpointed the cause of these problems as a mismatch between the noised training data distribution and the standard normal prior applied at the inference stage. To address this challenge, we developed specific noise priors for SIS, encompassing spatial, categorical, and a novel spatial-categorical joint prior for inference. This approach, which we have named SCP-Diff, has yielded exceptional results, achieving an FID of 10.53 on Cityscapes and 12.66 on ADE20K." />

  <meta name="keywords"
    content="SCP-Diff, SCP Diff, Semantic Image Synthesis, Diffusion Models, Latent Diffusion Models, Noise Prior, Inference Gap" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />

  <title>
    SCP-Diff | Project Page
  </title>
  <link rel="icon" type="image/x-icon" href="static/images/favicon.ico" />
  <link href="https://fonts.googleapis.com/css?family=Google+Sans|Noto+Sans|Castoro" rel="stylesheet" />

  <link rel="stylesheet" href="static/css/bulma.min.css" />
  <link rel="stylesheet" href="static/css/bulma-carousel.min.css" />
  <link rel="stylesheet" href="static/css/bulma-slider.min.css" />
  <link rel="stylesheet" href="static/css/fontawesome.all.min.css" />
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/jpswalsh/academicons@1/css/academicons.min.css" />
  <link rel="stylesheet" href="static/css/index.css" />
  <link rel="stylesheet" href="https://unpkg.com/beerslider/dist/BeerSlider.css">

  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
  <script src="https://documentcloud.adobe.com/view-sdk/main.js"></script>
  <script defer src="static/js/fontawesome.all.min.js"></script>
  <script src="static/js/bulma-carousel.min.js"></script>
  <script src="static/js/bulma-slider.min.js"></script>
  <script src="static/js/index.js"></script>
</head>

<body>
  <section class="hero">
    <div class="hero-body">
      <div class="container is-max-desktop">
        <div class="columns is-centered">
          <div class="column has-text-centered">
            <h2 class="title is-2 publication-title">
              SCP-Diff: Photo-Realistic Semantic Image Synthesis with
              Spatial-Categorical Joint Prior
            </h2>
            <div class="is-size-5 publication-authors">
              <!-- Paper authors -->
              <span class="author-block">
                <a href="https://c7w.tech/about/" target="_blank">Huan-ang Gao</a><sup>*1</sup>,</span>
              <span class="author-block">
                <!-- <a href="SECOND AUTHOR PERSONAL LINK" target="_blank" -->
                Mingju Gao<sup>*1</sup>,</span>
              <span class="author-block">
                <!-- <a href="SECOND AUTHOR PERSONAL LINK" target="_blank" -->
                Jiaju Li<sup>1,2</sup>,</span>
              <span class="author-block">
                <!-- <a href="SECOND AUTHOR PERSONAL LINK" target="_blank" -->
                Wenyi Li<sup>1</sup>,</span><br />
              <span class="author-block">
                <!-- <a href="SECOND AUTHOR PERSONAL LINK" target="_blank" -->
                Rong Zhi<sup>3</sup>,</span>
              <span class="author-block">
                <a href="https://ha0tang.github.io/" target="_blank">Hao Tang</a><sup>4</sup>,</span>
              <span class="author-block">
                <a href="https://sites.google.com/view/fromandto" target="_blank">Hao Zhao</a><sup>&dagger;1</sup>
              </span>
            </div>
            <!-- a margin of 0.5em -->
            <div style="margin: 0.5em;"></div>
            <div class="is-size-5 publication-authors">
              <span class="author-block is-size-6">
                <sup>1</sup> Institute for AI Industry Research (AIR), Tsinghua University &nbsp;&nbsp;&nbsp;
                <br>
                <sup>2</sup> University of Chinese Academy of Sciences &nbsp;&nbsp;&nbsp;
                <sup>3</sup> Mercedes-Benz Group China Ltd. &nbsp;&nbsp;&nbsp;
                <sup>4</sup> Carnegie Mellon University
                <!-- <div style="margin: 0.1em;"></div> -->
                <span class="eql-cntrb"><small><br /><sup>*</sup>Indicates Equal Contribution</small></span>
                <!-- a span of 5em-->
                <span style="margin: 1em;"></span>
                <span class="eql-cntrb"><small><sup>&dagger;</sup>Indicates Corresponding Author</small></span>
            </div>

            <div class="column has-text-centered">
              <div class="publication-links">
                <!-- Arxiv PDF link -->
                <span class="link-block">
                  <a href="https://arxiv.org/pdf/2403.09638.pdf" target="_blank"
                    class="external-link button is-normal is-rounded is-dark">
                    <span class="icon">
                      <i class="fas fa-file-pdf"></i>
                    </span>
                    <span>Paper</span>
                  </a>
                </span>

                <!-- Github link -->
                <!-- <span class="link-block">
                  <a href="https://github.com/AIR-DISCOVER/SCP-Diff-Toolkit" target="_blank"
                    class="external-link button is-normal is-rounded is-dark">
                    <span class="icon">
                      <i class="fab fa-github"></i>
                    </span>
                    <span>Code</span>
                  </a>
                </span> -->

                <!-- ArXiv abstract Link -->
                <span class="link-block">
                  <a href="https://arxiv.org/abs/2403.09638" target="_blank"
                    class="external-link button is-normal is-rounded is-dark">
                    <span class="icon">
                      <i class="ai ai-arxiv"></i>
                    </span>
                    <span>arXiv</span>
                  </a>
                </span>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- Teaser video-->
  <section class="hero teaser">
    <div class="container is-max-desktop">
      <div class="hero-body">
        <!-- <video poster="" id="tree" autoplay controls muted loop height="100%"> -->
        <!-- Your video here -->
        <!-- <source src="static/videos/banner_video.mp4" type="video/mp4" /> -->
        <!-- </video> -->
        <!-- centering the image -->
        <div class="columns is-centered">
          <!-- <div class="column is-four-fifths"> -->
          <!-- <div class="publication-video"> -->
          <img src="static/images/Teaser_cs1.jpg" width="100%" />
          <!-- </div> -->
          <!-- </div> -->
        </div>
        <!-- <img src="static/images/Teaser_cs1.jpg" width="100%" /> -->
        <h2 class="has-text-centered is-size-6">
          <b>Left to right: Semantic Label Map, Ground Truth, Ours.</b> The proposed SCP-Diff can generate
          photo-realistic images from semantic masks. While the state-of-the-art method ECGAN achieves 44.5 FID on
          Cityscapes, our method achieves 10.5 FID. The quality is credited to the strong spatial and categorical prior
          of Cityscapes.
        </h2>
      </div>
    </div>
  </section>
  <!-- End teaser video -->

  <!-- Paper abstract -->
  <section class="section hero is-light">
    <div class="container is-max-desktop">
      <div class="columns is-centered has-text-centered">
        <div class="column is-four-fifths">
          <h2 class="title is-3">Abstract</h2>
          <div class="content has-text-justified">
            <p>
              Semantic image synthesis (SIS) shows good promises for sensor simulation. However, current best practices in this field, based on GANs, have not yet reached the desired level of quality. As latent diffusion models make significant strides in image generation, we are prompted to evaluate ControlNet, a notable method for its dense control capabilities. Our investigation uncovered two primary issues with its results: the presence of weird sub-structures within large semantic areas and the misalignment of content with the semantic mask. Through empirical study, we pinpointed the cause of these problems as a mismatch between the noised training data distribution and the standard normal prior applied at the inference stage. To address this challenge, we developed specific noise priors for SIS, encompassing spatial, categorical, and a novel spatial-categorical joint prior for inference. This approach, which we have named SCP-Diff, has yielded exceptional results, achieving an FID of 10.53 on Cityscapes and 12.66 on ADE20K.
            </p>
          </div>
        </div>
      </div>
    </div>
  </section>
  <!-- End paper abstract -->

  <!-- Youtube video -->
  <section class="hero is-small">
    <div class="hero-body">
      <div class="container">
        <!-- Paper video. -->
        <h2 class="title is-3">Method</h2>
        <div class="columns is-centered">
          <img src="static/images/main_graph.jpg" width="55%" />
        </div>
        <h2 class="has-text-centered is-size-6">
          Overall pipeline for our proposed method.
        </h2>
        <br />
        <div class="columns is-centered">
          <img src="static/images/ade-teaser.jpg" width="55%" />
        </div>
        <h2 class="has-text-centered is-size-6" width="55%">
          <b>Explanation of the underlying mechanisms of our proposed noise priors using ADE20K.</b> Introducing the
          spatial prior aligns the image style with the dataset's aesthetic while removing odd substructures in large
          semantic areas. Incorporating the class prior can enhance alignment with the provided semantic masks. By
          jointing spatial and class priors, their beneficial features are combined, allowing our joint prior (SCP-Diff)
          to achieve state-of-the-art results on ADE20K. 
          <br/><br/> Our code release is undergoing a review process within the company of our co-authors due to regulations.
           If you meet with problems when trying to reproduce our results or have problems with our implementation, feel free to contact us :)
        </h2>

      </div>
    </div>
  </section>
  <!-- End youtube video -->

  <!-- Youtube video -->
  <section class="hero is-small is-light">
    <div class="hero-body">
      <div class="container">
        <!-- Paper video. -->
        <h2 class="title is-3">Results</h2>
        <div class="columns is-centered has-text-centered"
          style="width: 100%; display: flex; justify-content: center; align-items: center; flex-direction: column">

          <div style="width: 70%; display: flex; justify-content: center; align-items: stretch; flex-direction: row">
            <div style="width: 100%;">
              <img src="static/images/web_cs/000067.png_label.jpg" alt="">
            </div>
            <span>&nbsp;&nbsp;&nbsp;&nbsp;</span>
            <div id="slider2" class="beer-slider" data-beer-label="ControlNet" style="width: 100%;">
              <img src="static/images/web_cs/000067.png_controlnet.jpg" alt="">
              <div class="beer-reveal" data-beer-label="Ours">
                <img src="static/images/web_cs/000067.png_ours.jpg" alt="">
              </div>
            </div>
          </div>

          <div style="margin: 0.5em;"></div>


          <div style="width: 70%; display: flex; justify-content: center; align-items: stretch; flex-direction: row">
            <div style="width: 100%;">
              <img src="static/images/web_cs/000097.png_label.jpg" alt="">
            </div>
            <span>&nbsp;&nbsp;&nbsp;&nbsp;</span>
            <div id="slider4" class="beer-slider" data-beer-label="ControlNet" style="width: 100%;">
              <img src="static/images/web_cs/000097.png_controlnet.jpg" alt="">
              <div class="beer-reveal" data-beer-label="Ours">
                <img src="static/images/web_cs/000097.png_ours.jpg" alt="">
              </div>
            </div>
          </div>


          <div style="margin: 0.5em;"></div>

          <div style="width: 70%; display: flex; justify-content: center; align-items: stretch; flex-direction: row">
            <div style="width: 100%;">
              <img src="static/images/web_cs/000127.png_label.jpg" alt="">
            </div>
            <span>&nbsp;&nbsp;&nbsp;&nbsp;</span>
            <div id="slider5" class="beer-slider" data-beer-label="ControlNet" style="width: 100%;">
              <img src="static/images/web_cs/000127.png_controlnet.jpg" alt="">
              <div class="beer-reveal" data-beer-label="Ours">
                <img src="static/images/web_cs/000127.png_ours.jpg" alt="">
              </div>
            </div>
          </div>

          <div style="margin: 0.5em;"></div>

          <div style="width: 55%; display: flex; justify-content: center; align-items: stretch; flex-direction: row">
            <div style="width: 100%;">
              <img src="static/images/web_ade20k/001109.png_label.jpg" alt="">
            </div>
            <span>&nbsp;&nbsp;&nbsp;&nbsp;</span>
            <div id="slider6" class="beer-slider" data-beer-label="ControlNet" style="width: 100%;">
              <img src="static/images/web_ade20k/001109.png_controlnet.jpg" alt="">
              <div class="beer-reveal" data-beer-label="Ours">
                <img src="static/images/web_ade20k/001109.png_ours.jpg" alt="">
              </div>
            </div>
          </div>

          <div style="margin: 0.5em;"></div>

          <div style="width: 55%; display: flex; justify-content: center; align-items: stretch; flex-direction: row">
            <div style="width: 100%;">
              <img src="static/images/web_ade20k/001569.png_label.jpg" alt="">
            </div>
            <span>&nbsp;&nbsp;&nbsp;&nbsp;</span>
            <div id="slider8" class="beer-slider" data-beer-label="ControlNet" style="width: 100%;">
              <img src="static/images/web_ade20k/001569.png_controlnet.jpg" alt="">
              <div class="beer-reveal" data-beer-label="Ours">
                <img src="static/images/web_ade20k/001569.png_ours.jpg" alt="">
              </div>
            </div>
          </div>


          <div style="margin: 0.5em;"></div>

          <div style="width: 55%; display: flex; justify-content: center; align-items: stretch; flex-direction: row">
            <div style="width: 100%;">
              <img src="static/images/web_ade20k/001915.png_label.jpg" alt="">
            </div>
            <span>&nbsp;&nbsp;&nbsp;&nbsp;</span>
            <div id="slider10" class="beer-slider" data-beer-label="ControlNet" style="width: 100%;">
              <img src="static/images/web_ade20k/001915.png_controlnet.jpg" alt="">
              <div class="beer-reveal" data-beer-label="Ours">
                <img src="static/images/web_ade20k/001915.png_ours.jpg" alt="">
              </div>
            </div>
          </div>

        </div>
        <br />

        <!-- quantitative results start here -->
        <table>

          <tr>
            <th rowspan="2">Method</th>
            <th colspan="3">Cityscapes</th>
            <th colspan="3">ADE20K</th>
          </tr>
          <tr>
            <!-- Empty cell for the corner -->
            <td>mIoU ↑</td>
            <td>Acc ↑</td>
            <td>FID ↓</td>
            <td>mIoU ↑</td>
            <td>Acc ↑</td>
            <td>FID ↓</td>
          </tr>
          <tr>
            <td>Normal Prior</td>
            <td>65.14 (+0.00)</td>
            <td>94.14 (+0.00)</td>
            <td>23.35 (+0.00)</td>
            <td>20.73 (+0.00)</td>
            <td>61.14 (+0.00)</td>
            <td>20.58 (+0.00)</td>
          </tr>
          <tr>
            <td>Spatial Prior</td>
            <td>66.77 (+1.63)</td>
            <td>94.29 (+0.15)</td>
            <td>12.83 (-10.52)</td>
            <td>20.86 (+0.13)</td>
            <td>64.46 (+3.32)</td>
            <td>16.03 (-4.55)</td>
          </tr>
          <tr>
            <td>Categorical Prior</td>
            <td>66.86 (+1.72)</td>
            <td>94.54 (+0.40)</td>
            <td>11.63 (-11.72)</td>
            <td>21.86 (+1.13)</td>
            <td>66.63 (+5.49)</td>
            <td>16.56 (-4.02)</td>
          </tr>
          <tr>
            <td>Joint Prior</td>
            <td><strong>67.92 (+2.78)</strong></td>
            <td><strong>94.65 (+0.51)</strong></td>
            <td><strong>10.53 (-12.82)</strong></td>
            <td><strong>25.61 (+4.88)</strong></td>
            <td><strong>71.79 (+10.65)</strong></td>
            <td><strong>12.66 (-7.92)</strong></td>
          </tr>
          <caption>Quantitative Comparison of Different Noise Priors</caption>
        </table>

      </div>
    </div>
  </section>
  <!-- End youtube video -->

  <!--BibTex citation -->
  <section class="section" id="BibTeX">
    <div class="container is-max-desktop content">
      <h2 class="title">BibTeX</h2>
      If you find our work useful in your research, please consider citing:
      <div style="margin: 0.5em;"></div>
      <pre><code>@article{gao2024scp,
  title={SCP-Diff: Photo-Realistic Semantic Image Synthesis with Spatial-Categorical Joint Prior},
  author={Gao, Huan-ang and Gao, Mingju and Li, Jiaju and Li, Wenyi and Zhi, Rong and Tang, Hao and Zhao, Hao},
  journal={arXiv preprint arXiv:2403.09638},
  year={2024}
}</code></pre>
    </div>
  </section>
  <!--End BibTex citation -->

  <footer class="footer">
    <div class="container">
      <div class="columns is-centered">
        <div class="column is-8">
          <div class="content">
            <p>
              This page was built using the
              <a href="https://github.com/eliahuhorwitz/Academic-project-page-template" target="_blank">Academic Project
                Page Template</a>
              which was adopted from the <a href="https://nerfies.github.io" target="_blank">Nerfies</a> project page.
              You are free to borrow the of this website, we
              just ask that you link back to this page in the footer. <br />
              This website is licensed under a
              <a rel="license" href="http://creativecommons.org/licenses/by-sa/4.0/" target="_blank">Creative Commons
                Attribution-ShareAlike 4.0 International
                License</a>.
            </p>
          </div>
        </div>
      </div>
    </div>
  </footer>

  <!-- Statcounter tracking code -->

  <!-- You can add a tracker to track page visits by creating an account at statcounter.com -->

  <!-- End of Statcounter Code -->
  <script src="https://unpkg.com/beerslider/dist/BeerSlider.js"></script>
  <script>
    new BeerSlider(document.getElementById('slider1'), { start: '40' });
    new BeerSlider(document.getElementById('slider2'), { start: '40' });
    new BeerSlider(document.getElementById('slider3'), { start: '40' });
    new BeerSlider(document.getElementById('slider4'), { start: '40' });
    new BeerSlider(document.getElementById('slider5'), { start: '40' });
    new BeerSlider(document.getElementById('slider6'), { start: '40' });
    new BeerSlider(document.getElementById('slider7'), { start: '40' });
    new BeerSlider(document.getElementById('slider8'), { start: '40' });
    new BeerSlider(document.getElementById('slider9'), { start: '40' });
    new BeerSlider(document.getElementById('slider10'), { start: '40' });
  </script>
</body>

</html>